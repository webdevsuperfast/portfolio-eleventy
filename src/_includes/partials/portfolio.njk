<section id="js-scroll-to-portfolio" class="flex w-full scroll-mt-12 sm:scroll-mt-24 sm:min-h-screen relative">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 lg:py-8 relative" x-data="{ filterOpen: false }" @click.away="filterOpen = false">
    <div class="filter-container relative flex flex-nowrap place-content-between items-center py-10">
      <h2 class="section-title text-4xl sm:text-6xl grow font-bold">Portfolio</h2>
      <div class="filter-block">
        <div x-transition class="w-full items-center flex-none lg:mt-0 lg:w-auto sm:ml-auto flex space-x-8" x-data="myComponent()">
          <div 
            x-show="filterOpen"
            x-cloak
            :class="{ 'block lg:flex': filterOpen, 'hidden': ! filterOpen }"
            class="absolute right-0 top-[100px] filter-container z-10 rounded-xl flex-col bg-gray-900 lg:rounded-none lg:static lg:bg-transparent lg:bg-opacity-0 lg:flex-row lg:space-x-6 uppercase lg:text-xl"
          >
            <a
              @click.prevent="clicked($event)" 
              x-bind:class="value === 'all' ? 'text-rose-900 underline underline-offset-4' : ''"
              data-filter="all" class="filter text-center uppercase hover:text-rose-900 hover:cursor-pointer transition-colors block py-1 px-6 lg:px-0 lg:py-0">All</a>

            
            {% for item in category %}
              <a
                @click.prevent="clicked($event)"
                x-bind:class="value === '.{{ item.slug }}' ? 'text-rose-900 underline underline-offset-4' : ''"
                class="filter uppercase text-center hover:text-rose-900 transition-colors hover:cursor-pointer block py-1 px-6 lg:px-0 lg:py-0" data-filter=".{{ item.slug }}" >{{ item.name }}</a>
            {% endfor %}
          </div>
          <button
            x-on:click="filterOpen = ! filterOpen"
            class="flex items-center space-x-2 focus:outline-none">
            <span class="text-xl uppercase" x-text="filterOpen ? '' : 'Filter'">Filter</span>
            
            <div class="w-10 h-10 flex items-center justify-center relative">
              <span 
              x-bind:class="filterOpen ? '-translate-y-0 rotate-45' : '-translate-y-3'"
              class="transform transition w-full rounded h-0.5 bg-current absolute"
              ></span>
              <span 
              x-bind:class="filterOpen ? 'opacity-0 translate-x-3 w-10' : 'opacity-100'"
              class="transform transition w-3/5 rounded h-0.5 bg-current absolute"
              ></span>
              <span 
              x-bind:class="filterOpen ? 'translate-y-0 -rotate-45 w-10' : 'translate-y-3 w-1/5'"
              class="transform transition rounded h-0.5 bg-current absolute"
              ></span>
            </div>
          </button>
          
        </div>
      </div>
    </div>

    <div class="collections grid grid-cols-none sm:grid-cols-2 lg:grid-cols-3  xl:grid-cols-4 2xl:grid-col-6 gap-8 snap-proximity overflow-x-auto relative overflow-y-hidden">
      {% for item in portfolio %}
        <figure class="mix portfolio relative w-100 {{ item.category }} rounded-xl rounded-br-none overflow-hidden group">
          <a data-glightbox="type: image" href="{% portfolioImage item.featuredImage %}" class="glightbox">
            <img 
              width="445" 
              height="330" 
              data-src="{% portfolioImage item.thumbnail %}" 
              alt="{{ item.title }}" 
              class="portfolio-image mb-0 w-full object-cover h-[250px] lazy transition-transform group-hover:-translate-y-10">
            <figcaption 
            class="portfolio-info absolute bottom-0 left-0 w-full bg-rose-900 py-4 px-5 translate-y-full group-hover:translate-y-0 transition-transform">
              <h3 class="mb-0 text-gray-100">{{ item.title }}</h3>
            </figcaption>
          </a>
        </figure>
      {% endfor %}
    </div>
  </div>
</section> <!-- Portfolio Section -->